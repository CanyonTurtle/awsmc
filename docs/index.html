<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>AWSM pre-alpha prototype</title></head><body><div id="canvas-container"><div id="cartdata" data-cart="0ax}=0rr910tCVA003yb0E[FXE$8@$E/J<SE/GMX4fcCh000000rAi40%5Jd0Dn5v0Te=e0F7u70%PzvE/R&=FpE+gE/R?n3X5gy01f510sPfHwO(vaC(^%Lv@Dl%x>INewDh/pB-p(1By+BP3TWQ=x([5$y?Xib00KlEuUKy*x(W={ByeT5zEW^5z/e{7vpB4:0rr<Czf6icx(Ff9zEmEbvpK7Wx(mTb00TrLzf6icx(Ff9zEmEbvpK7WxjVf(w].D]00:xMzf6icx(Ff9zEmEbvpK7WxjVf(vQTs?00<AMzf6icx(Ff9zEmEbvpK7WxjVf(wO#2U2)>V{vpK7KvrMhZ3jH#$vpK7JwPI%iA+bjU9a-#dv@=p5By/t%B97&2yHpZ=ByeK2A=L-eBn#ZQ2ls/<0sF]d3I+wB1on#q3YUw>q?31(aQ7dOaQf4)ao(Q82oTl]06pi5ao%1&i@{rz2oT7f0u96=aoKXa7:65a1u3q}ao%L293CON%nJfA2{oG@32}9}ao%1@huBA>kM:m]2pGS+aQYy$f98[k3{<{[10F9@3)l10aR2R5apZ{=4)Zjt5fIGa5oe<9aq43K0u.R20uJx%li3@!aRL$haqn-r6D^S66Gc130ZD&Mao%p@3)uud2ql8@aR)xz@@TzXaqM7oAuMew6^at:aSiMDaSqEvar2ky8Z37*4fmNRc&$8a93ujM001e.k(-5Harz{jH>70UaS?*ic&%@6avhU3aT4%Jar+LAa%mas0T{j%ar?{My9s&*0We<jbP[yPaTOrNasp?DcM<=V9xBf2ao%p@6D[>Ec[LA1aT]XSaU1P:c<2iPFcm2Cao%p@5fSO<PAch/as[S!y-$zN2pGSZaUK@<atmEMfHk:-f^5d)f)1M]k(&b+atL5}y9tzRd<cV-aVgx1asPtK03zH{0U=!oat$!K0WfG*03KrAi4a&:FpE+CiuOLP0UuIol7!l4j0lNbj8u65ao%p@3)v+RjrM!4aWef[aWm8kau%@>kTtC{k{eAnl24MfaupMhy9t}!lM!rG001bDc&$8al)a(H00sxkk(-5$avW:XH>70UaX9TWc&%@6ni@)HaXr!Eaw3w)n*1u!0T{kBaw9+Hy9unp0WgnXoDW5KaX>r9aX%jQawV.}p-@mJp??dJaw<mIiSGd52pGSZaYpPbaYxHYax91#r3hz*r5K^^3&*Un3M]W50UuIPk(&cfaxoK+y9uU32oW8a0Ut+u3JHLB3Zy>@t7m:%aQ7dyaQf4)ao(Q82oTl%03zH?06ph>ao%1&i@]:j2oT7f0sx}OaoKXa2P%u{1u3q:ao%L24J#9z5fRu52P%B}aQPt0apifl3QB+o3)k{23}.VLk(&bsapPC6AuL?]kMTg[4[c{cao%L24J#xH5fRSd5fINbaRC[gaq5-t6cE@i6BU0Ik(-5yaqD4l3M{cb79A&n0sQa/k[CgRaqVdqBrIIA86x=saSrSDaSzKxar9]@96<PG9uVsA9Drkz0ZD/LarA@X03zI10sQa[k[CgZarIZGBrI!IaS}[IaTe3MaTmx@3QB+obP[uQbmtRsaTFlof98Lacp5g^cM<-UcV*HWasFuWBS&gR2ql8+aU2!T@@Tz{asXG:AuM>QdiHfRaUu0L0u<6reG=VpaUMaZaUU2(atv^Uf-<PwkP?^I4fdHQf98Lagc(D{gAXB}gJT=%at+h%BS&Q+2ql8+aVqT^@@TA6at$u3AuNp:h6s>[aVQV9aVZ2j3QHx=aV*/daVY#NiW3Qd2ql8^aW5a5aWd2iau<(<koJfkk6n2lao%L22Q8G1%nJfAllFMpluaeoav45py9t#hP8*97avEtvnfHC*0u<@QmJ+ivaXhV10ZE(0mgxkt2ql8^aXs%haXA>Gawc-0ocu>In{8pJao%L22Q8]d%nJfAp9rmNph}BMawr[Ny9uy@p:5WA0sIh=0u>t-qxX)Baw<pXao%p@1r*-g%nJfAruJ51rDff.li3@!aY/^jaxJLasv8#!10H!&jrN^DaZdhi@@TAGax6y!AuONfrV>G!s%d5)r1G6@5fUs42oWq!aZMo$bMFt.GAh8-E)FO/aPK!daPSX^aojq3H>70Ul4C:naP:}faP&??aoBC5JduAYk[Cgxk(-5iao-><huF$<FcndraQf4[c<2GXFcm22l7!l42P%u{2S&4!k(-5mapfB$KBR&:aQQJd0u?*[3lPZr0rLLfaQ*TpaQ]L6apHdfLZ[n!4?0)]0Hr+oble>!k{drKaoiI+yAS:40WE+i03IB!11jkfFpE+C1rW*}0STwEk(&bkao->(y9r*81rW}c0SUH^aQxg(ap6>b90ewckP*aR0VSu&l4E2SaQPs#appT.3QB!p3)k{23#)B1apQ:G0u.B(0VSu[k(&btapYI8BrIhY03I{%5HWZtFpE+C5*d/n0STwSk(&byaqk>iB%dOy5fIZ5aR)x00u&m479BAjaS9GBaShyuc<2iPFcm2laoA})93Dm!0WeKa8Z3bxaSRWzarthu9V#HD7=?S%aoA})93Dy&10F^fa0qXxaT6bKaTe3Mc<2uTFcm2uar@oo03JQN4K0bvbP[yJaTOrPasp?DcQE+kaT!DXasIjMdm0}SdJ*h?0/hwS1r/or0W[9&aUk[XaUs//at4WUe<PHYfcz>&fkqT:as!M*y9tqOf^4]a001byc&$wigc(6!gAXB}gI!i>k(-5=at>LGJduAYaVpD3c&%w(h:EJ?i3pd5icDD9at+i3y9tS7-@NtBauySbA3mtf03KGFjTZw/FpE+Cj%f[P0VSvFk(@h{au{#lBrJ}o0Wf(Mk{eHeaWWwoavx(!l)a(ujurDxaoA})93E:p3N4$ZmiC6oaXa/#aXi.Dc<2uTFcm2!aw0%.03K%279Mr[n*3=AaXT1GawuI[o*O^WaX<dOawM]1pEa$7p-@N.0/hwS1r*R+0W[9&aYpPcaYxHYax9w9r6ZQfruLl-rCAWTaw<mZy9uU3s0gp1001byc&$wisu#%hsS*/?s.Y9-aoAV?huB<b01e=mk(-6jaoAV&huBY%kM:m]0W[9!aZvqkaZDi@c<26LFcm34ay33}nfIta0u>?[uM--@aZ(H4mgxn-03L!]vKIqxFpE+Cv&$?30Vi7>k)wGzay(Qay:0ykv<2w#a.K7za.S0haztHkx=}ay0rsoTk[ChPaoAW3y9vyoy-)zaa-eusazJ$s03C]50rsoXaoAW6huBBj0XTM=a-wF8aA6sx4J>*a0tlL{aoAW8i@]:j0XTM*a-ORaaAoEz3lPy60s*n[li3@!a-!=DaAIJCBojYIBvuSsaoBg%3)x:V%nJfAB%7]IC5XWHaA{l-03zs@0sx#{li3@!a:ChPaBd@IDlvJ54fdHLf98LaDQmYi10J4mDMWYQa:(S-a:$LZaBX8HE&[!C0sQc40yu+=10Ji@aB<FnFDo:lF=OdAa+G!rF=N0D0C-<i0ymzyG-KF&FpE+CH5<NKa+{7vE&%HEBrMCvaCZ4vHxhJvI2/)Na=lpyGAiiM0DYGy0u^p3aC{hxa=DB/%nJfAJr7eQ0u^v5AuQtyli3@!a==TDG-JrS0DxoA0u^j1aDcszJSyn:0u^9$5crjZ0W[9!a=#^>0u)QbaDVWEK]YqvLk#^caD(*:0VhsC3JHM2ar=%IaoAWI0CS^y0u^TdbMFt.3&*t]k(<y-01Ybr3LJIaFpJdMbMZmik[vY@Ab^c73KlUR03.IW3J{CO0T/bhblneP03.EK1]]+CbMFhP03.EK3Mf0Cl4BGo1pCtj00930l4<=s1pCtt00000" data-cartlen="3043"></div><canvas id="screen"></canvas><div id="top"><span id="fpsOut">fps</span><a href="https://github.com/CanyonTurtle/awsmc">source</a><button type="button" id="fullscreen-btn">Fullscreen</button></div></div><style>#screen{image-rendering:pixelated}body,html{margin:0;width:100%;height:100%;background-color:#fff}#top{position:absolute;top:10px;left:10px;z-index:10;display:inline}#canvas-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center}</style><script>function B(e,t){let n=0,r=0,o=0;const i=e.length,a=t.length;if(e.length%5==0)for(;r<i;){const i=e.charCodeAt(r++)-32;if(i<0||i>=T.length)return n;if(o=85*o+T[i],r%5==0){let e=16777216;for(;e>=1;){if(n>=a)return n;t[n++]=o/e%256,e/=256}o=0}}return n}var _="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.-:+=^!/*?&<>()[]{}@%$#".split(""),T=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0];function w(){if(null==document.fullscreenElement){let e=function(){const e=window.frameElement;if(e){let t=e;t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.zIndex="99999",t.style.width="100%",t.style.height="100%"}};const t=document.body.requestFullscreen&&document.body.requestFullscreen({navigationUI:"hide"});t?t.catch(e):e()}}var u=function(e){let t=e.memory,n=new Uint8Array(t.buffer,v,h*F);n.fill(0);let r=0;for(let[t,o]of e.activeTouches.entries()){let[e,t,i]=o;const a=r*F;n[a+1]=e>>8&255,n[a+0]=e,n[a+3]=t>>8&255,n[a+2]=t,n[a+5]=i>>8&255,n[a+4]=i,r+=1}e.generation+=1},d=function(e){let t=!1;function n(e,t){e.preventDefault();const n=e.changedTouches;for(let e=0;e<n.length;e++){const r=n[e];o(r.identifier,t,r.clientX,r.clientY)}}function r(e,t){e.preventDefault(),o(-1,t,e.clientX,e.clientY)}function o(t,n,r,o){if(n)return void e.activeTouches.delete(t);const i=document.getElementById("screen"),a=i.getBoundingClientRect(),c=i.width/a.width,u=i.height/a.height,s=Math.floor((r-a.left)*c),l=Math.floor((o-a.top)*u);s<0||s>=i.width||l<0||l>=i.height?e.activeTouches.delete(t):e.activeTouches.set(t,[s,l,e.generation])}e.activeTouches=new Map,e.generation=0;const i=e=>{n(e,!1)},a=e=>{n(e,!0)},c=e=>{t&&r(e,!1)},u=e=>{t=!0,r(e,!1)},s=e=>{t=!1,r(e,!0)},l=document.getElementById("screen"),d=(e,t)=>{l.removeEventListener(e,t,{passive:!1}),l.addEventListener(e,t,{passive:!1})};for(let[e,t]of[["touchstart",i],["touchmove",i],["touchend",a],["touchcancel",a],["mousemove",c],["mousedown",u],["mouseup",s]])d(e,t);document.getElementById("fullscreen-btn").addEventListener("click",(e=>{e.preventDefault(),w()}))};function i(e){let t=e.memory;const n=new Uint16Array(t.buffer,f,4);e.width=n[0],e.height=n[1];const r=new Uint8Array(t.buffer,y,e.width*e.height*E),o=document.getElementById("screen");if(o.width=e.width,o.height=e.height,!(J=o.getContext("webgl")))return void alert("WebGL not supported");const i=J.createShader(J.VERTEX_SHADER);if(J.shaderSource(i,R),J.compileShader(i),!J.getShaderParameter(i,J.COMPILE_STATUS))return void console.error("Vertex shader compilation error:",J.getShaderInfoLog(i));const a=J.createShader(J.FRAGMENT_SHADER);if(J.shaderSource(a,b),J.compileShader(a),!J.getShaderParameter(a,J.COMPILE_STATUS))return void console.error("Fragment shader compilation error:",J.getShaderInfoLog(a));const c=J.createProgram();J.attachShader(c,i),J.attachShader(c,a),J.linkProgram(c),J.useProgram(c);const u=J.createBuffer();J.bindBuffer(J.ARRAY_BUFFER,u),J.bufferData(J.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,1,1,-1,-1,-1]),J.STATIC_DRAW);const s=J.getAttribLocation(c,"a_position");J.enableVertexAttribArray(s),J.vertexAttribPointer(s,2,J.FLOAT,!1,0,0);const l=J.createTexture();J.bindTexture(J.TEXTURE_2D,l),J.texImage2D(J.TEXTURE_2D,0,J.RGBA,e.width,e.height,0,J.RGBA,J.UNSIGNED_BYTE,r),J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,J.NEAREST),J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,J.NEAREST),J.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_S,J.CLAMP_TO_EDGE),J.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_T,J.CLAMP_TO_EDGE),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,!0),J.uniform1i(J.getUniformLocation(c,"u_texture"),0);const h=J.getUniformLocation(c,"u_resolution");J.uniform2f(h,e.width,e.height),d(e)}function g(e){u(e);let t=e.memory,n=(Y=new Date).getTime()-D.getTime();O+=(n-O)/p,D=Y;const r=new Uint8Array(t.buffer,y,e.width*e.height*E);J.texSubImage2D(J.TEXTURE_2D,0,0,0,e.width,e.height,J.RGBA,J.UNSIGNED_BYTE,r),J.clearColor(0,0,0,1),J.clear(J.COLOR_BUFFER_BIT),J.drawArrays(J.TRIANGLE_STRIP,0,6)}async function m(){const e={env:{memory:new WebAssembly.Memory({initial:256})}},t=document.getElementById("cartdata"),n=t.getAttribute("data-cart"),r=Number(t.getAttribute("data-cartlen")),o=new Uint8Array(r);B(n,o);const{instance:i}=await WebAssembly.instantiate(o,e);return{_configure:i.exports.configure,_update:i.exports.update,memory:i.exports.memory,width:64,height:64,activeTouches:new Map,generation:0}}var J,R="\n    attribute vec2 a_position;\n    void main() {\n        gl_Position = vec4(a_position, 0, 1);\n    }\n",b="\n    precision mediump float;\n    uniform sampler2D u_texture;\n    uniform vec2 u_resolution;\n    void main() {\n        vec2 uv = gl_FragCoord.xy / u_resolution;\n        gl_FragColor = texture2D(u_texture, uv);\n    }\n",p=20,O=0,D=new Date,Y=new Date,E=4,y=512,f=16,v=32,h=10,F=6;async function C(){const e=await m();e._configure(),i(e),setInterval((()=>{e._update(),g(e)}),16.666666666666668);const t=document.getElementById("screen"),n=e.width,r=e.height;function o(){const e=t.parentNode.clientWidth,o=t.parentNode.clientHeight,i=e/n,a=o/r;let c=Math.min(i,a);const u=Math.floor(n*c),s=Math.floor(r*c);t.style.width=u+"px",t.style.height=s+"px"}o(),window.addEventListener("resize",o);var a=document.getElementById("fpsOut");setInterval((function(){a.innerHTML=(1e3/O).toFixed(1)+" fps"}),1e3)}C()</script></body></html>